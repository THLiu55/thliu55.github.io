<!DOCTYPE html><html lang="en"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content=""><title>String | Tianhao's Blog</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=1.0.0"><link rel="stylesheet" type="text/css" href="https://unpkg.com/normalize.css"><link rel="stylesheet" type="text/css" href="https://unpkg.com/purecss/build/pure-min.css"><link rel="stylesheet" type="text/css" href="https://unpkg.com/purecss/build/grids-responsive-min.css"><link rel="stylesheet" href="https://unpkg.com/font-awesome@4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="https://unpkg.com/jquery/dist/jquery.min.js"></script><link rel="icon" mask="" sizes="any" href="/favicon.ico"><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><script type="text/javascript" src="https://unpkg.com/clipboard/dist/clipboard.min.js"></script><script type="text/javascript" src="https://unpkg.com/toastr/build/toastr.min.js"></script><link rel="stylesheet" href="https://unpkg.com/toastr/build/toastr.min.css"><meta name="generator" content="Hexo 7.3.0"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">String</h1><a id="logo" href="/.">Tianhao's Blog</a><p class="description"></p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> Home</i></a><a href="/archives/"><i class="fa fa-archive"> Archive</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">String</h1><div class="post-meta">2024-07-29</div><div class="post-content"><p><strong>practice</strong><br><a target="_blank" rel="noopener" href="https://leetcode.com/problems/reverse-string">LeetCode 334 - Reverse String</a><br><a target="_blank" rel="noopener" href="https://leetcode.com/problems/reverse-string-ii/">LeetCode 541 - Reverse String II</a><br><a target="_blank" rel="noopener" href="https://leetcode.com/problems/reverse-words-in-a-string/">LeetCode 151 - Reverse Words in a String</a></p>
<p><img src="https://s2.loli.net/2024/07/30/9ag6KGNPi58ofFc.jpg"></p>
<p><strong>Notes</strong></p>
<ul>
<li>revert a string twice will stay unchanged, use this trick on some sub-strings can reach some complex transformation.</li>
</ul>
<h2 id="String-Matching-KMP"><a href="#String-Matching-KMP" class="headerlink" title="String Matching (KMP)"></a>String Matching (KMP)</h2><h3 id="Naive-Approach"><a href="#Naive-Approach" class="headerlink" title="Naive Approach"></a>Naive Approach</h3><p>The naive approach to string matching involves comparing the pattern with the text character by character. If a mismatch is found, the pattern is shifted by one position and the comparison is repeated.</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">naiveSearch</span><span class="params">(string text, string pattern)</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> n = text.<span class="built_in">size</span>();</span><br><span class="line">    <span class="type">int</span> m = pattern.<span class="built_in">size</span>();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt;= n - m; i++) &#123;</span><br><span class="line">        <span class="type">int</span> j;</span><br><span class="line">        <span class="keyword">for</span> (j = <span class="number">0</span>; j &lt; m; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (text[i + j] != pattern[j]) &#123;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (j == m) &#123;</span><br><span class="line">            <span class="keyword">return</span> i;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>This approach has a time complexity of <code>O(n * m)</code> in the worst case, where <code>n</code> is the length of the text and <code>m</code> is the length of the pattern.<br>The main drawback of this approach is that it does not take advantage of the information in the pattern to avoid unnecessary comparisons.</p>
<h3 id="KMP-Algorithm"><a href="#KMP-Algorithm" class="headerlink" title="KMP Algorithm"></a>KMP Algorithm</h3><p><img src="https://s2.loli.net/2024/07/30/e1TjUGRcqDpkdiO.webp"></p>
<p>This works because if the suffix matches, then its identical prefix should also match. Therefore, we can skip comparisons for those letters. This approach eliminates the need to backtrack the pointer for the target string and uses the pointers in the pattern and prepared information to achieve the same result.</p>
<h4 id="Prepare-LSP-Longest-Proper-Prefix-which-is-also-a-suffix"><a href="#Prepare-LSP-Longest-Proper-Prefix-which-is-also-a-suffix" class="headerlink" title="Prepare LSP (Longest Proper Prefix which is also a suffix)"></a><strong>Prepare LSP (Longest Proper Prefix which is also a suffix)</strong></h4><p><img src="https://s2.loli.net/2024/07/30/2qgpKWaT8uYN47y.webp"></p>
<ul>
<li><strong>Step 1:</strong> Initialize a LPS array of the same size as the pattern and set all array elements to -1, where <code>-1</code> denotes no LPS is recognized at the given index.</li>
<li><strong>Step 2:</strong> Define two indices <code>j = 0</code>, <code>i = 1</code>. </li>
<li><strong>Step 3:</strong> Compare the letters at pattern[i] and pattern[j] <ul>
<li>match: <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">LPS[i] = j</span><br><span class="line">i += <span class="number">1</span></span><br><span class="line">j += <span class="number">1</span>    </span><br></pre></td></tr></table></figure></li>
<li>mismatch:<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (j == <span class="number">0</span>) &#123;</span><br><span class="line">    i += <span class="number">1</span></span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    j = LPS[j - <span class="number">1</span>] + <span class="number">1</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<img src="https://s2.loli.net/2024/07/30/6YAlsZJco7XQS45.webp"><br>Repeat step 3 until all the elements in the pattern are iterated.</li>
</ul>
</li>
</ul>
<h4 id="String-Matching"><a href="#String-Matching" class="headerlink" title="String Matching"></a>String Matching</h4><p>The process of String Matching and Building LPS array are quite similiar. </p>
<ul>
<li><strong>Step 1:</strong> Define two pointers <code>i</code>, <code>j</code> to denote the current index at the main string and pattern respectively. </li>
<li><strong>Step 2:</strong> Compare the letters at <code>string[i]</code> and <code>pattern[j]</code><ul>
<li>match:<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">i += <span class="number">1</span></span><br><span class="line">j += <span class="number">1</span></span><br></pre></td></tr></table></figure></li>
<li>mismatch<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (j == <span class="number">0</span>) &#123;</span><br><span class="line">    i += <span class="number">1</span></span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    j = LPS[j - <span class="number">1</span>] + <span class="number">1</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
repeat step 2 until the whole pattern is matched or the length of unchecked in the main string is less than the length if the pattern string.</li>
</ul>
</li>
</ul>
<p><strong>Practice</strong><br><a target="_blank" rel="noopener" href="https://leetcode.com/problems/find-the-index-of-the-first-occurrence-in-a-string">LeetCode 28 - Find the Index of the First Occurrence in a String</a><br><a target="_blank" rel="noopener" href="https://leetcode.com/problems/repeated-substring-pattern">LeetCode 459 - Repeated Substring Pattern</a></p>
<p><img src="https://s2.loli.net/2024/07/30/Ug9rm4KahqdRG28.jpg"></p>
</div><div class="tags"><ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/algorithm/" rel="tag">algorithm</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/data-structure/" rel="tag">data structure</a></li></ul></div><div class="post-nav"><a class="next" href="/2024/07/25/hash-table/">Hash Table</a></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form class="search-form" action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank"><input type="text" name="q" maxlength="20" placeholder="Search"/><input type="hidden" name="sitesearch" value="https://thliu55.github.io"/></form></div><div class="widget"><div class="author-info"><a class="info-avatar" href="/about/" title="About"><img class="nofancybox" src="https://s2.loli.net/2024/07/18/gMkduESB3QUYZDV.png"/></a><p>MSCS @ UCSD 26' | BSc. Software Engineering @ BJUT 24'</p><a class="info-icon" href="https://github.com/THLiu55" title="Github" target="_blank" style="margin-inline:5px"> <i class="fa fa-github-square" style="margin-inline:5px"></i></a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> Categories</i></div></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> Tags</i></div><div class="tagcloud"><a href="/tags/data-structure/" style="font-size: 15px;">data structure</a> <a href="/tags/algorithm/" style="font-size: 15px;">algorithm</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> Recent</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2024/07/29/string/">String</a></li><li class="post-list-item"><a class="post-list-link" href="/2024/07/25/hash-table/">Hash Table</a></li><li class="post-list-item"><a class="post-list-link" href="/2024/07/24/list/">List</a></li><li class="post-list-item"><a class="post-list-link" href="/2024/07/18/array/">Array</a></li></ul></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2024 <a href="/." rel="nofollow">Tianhao's Blog.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=1.0.0" async></script><script type="text/javascript" src="https://unpkg.com/@fancyapps/fancybox/dist/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=1.0.0" async></script><link rel="stylesheet" type="text/css" href="https://unpkg.com/@fancyapps/fancybox/dist/jquery.fancybox.min.css"><script type="text/javascript" src="/js/copycode.js?v=1.0.0" successtext="Copy Successed!"></script><link rel="stylesheet" type="text/css" href="/css/copycode.css?v=1.0.0"><script type="text/javascript" src="/js/codeblock-resizer.js?v=1.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=1.0.0"></script></div></body></html>